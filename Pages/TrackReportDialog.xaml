<Page x:Class="WPFBMI.Pages.TrackReportDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WPFBMI.Pages"
        mc:Ignorable="d"
        d:DesignHeight="450" d:DesignWidth="800"
        Title="TrackReportDialog">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="Auto"/>
        </Grid.ColumnDefinitions>
        <RadioButton Content="All Statements" IsChecked="True" x:Name="RadioAllButton" GroupName="StatementsFilter" Click="RadioButtonHandler" Grid.Column="0" Grid.Row="1"/>
        <RadioButton Content="Last 4 Statements" x:Name="RadioLast4Button" GroupName="StatementsFilter" Click="RadioButtonHandler" Grid.Column="2" Grid.Row="1"/>
        <RadioButton Content="Last 10 Statements" x:Name="RadioLast10Button" GroupName="StatementsFilter" Click="RadioButtonHandler" Grid.Column="1" Grid.Row="1"/>
        <RadioButton Content="Last Statement" x:Name="RadioLast1Button" GroupName="StatementsFilter" Click="RadioButtonHandler" Grid.Column="3" Grid.Row="1"/>
        <Label x:Name="LibraryFilterLabel" Grid.Column="0" Grid.Row="2" Content="Libraries"/>
        <StackPanel Orientation="Horizontal" Grid.Column="0" Grid.Row="3">
            <Button x:Name="LibSelectAllBtn" Content="Select All" Click="SelectAll"/>
            <Button x:Name="LibSelectNoneBtn" Content="Select None" Click="SelectNone"/>
        </StackPanel>
        <ComboBox x:Name="LibraryFilterBox" Grid.Column="0" Grid.Row="4" SelectionChanged="PreventSelection" Text="Libraries"
          StaysOpenOnEdit="True" IsEditable="False" IsReadOnly="True" Focusable="False">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Content="{Binding name}" IsChecked="{Binding isSelected}" Checked="OnFilterSelectionChanged" Unchecked="OnFilterSelectionChanged"/>
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        <Label x:Name="LibraryFilterBtnLabel" Grid.Column="0" Grid.Row="4" Content="Select Libraries" IsHitTestVisible="False"/>
        <Label x:Name="AlbumFilterLabel" Grid.Column="1" Grid.Row="2" Content="Albums"/>
        <StackPanel Orientation="Horizontal" Grid.Column="1" Grid.Row="3">
            <Button x:Name="AlbSelectAllBtn" Content="Select All" Click="SelectAll"/>
            <Button x:Name="AlbSelectNoneBtn" Content="Select None" Click="SelectNone"/>
        </StackPanel>
        <ComboBox x:Name="AlbumFilterBox" Grid.Column="1" Grid.Row="4" SelectionChanged="PreventSelection" Text="Albums"
          IsEditable="False" StaysOpenOnEdit="True" Focusable="False">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Content="{Binding name}" IsChecked="{Binding isSelected}" Checked="OnFilterSelectionChanged" Unchecked="OnFilterSelectionChanged"/>
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        <Label x:Name="AlbumFilterBtnLabel" Grid.Column="1" Grid.Row="4" Content="Select Albums" IsHitTestVisible="False"/>
        <Label x:Name="GenreFilterLabel" Grid.Column="2" Grid.Row="2" Content="Genres"/>
        <StackPanel Orientation="Horizontal" Grid.Column="2" Grid.Row="3">
            <Button x:Name="GenSelectAllBtn" Content="Select All" Click="SelectAll"/>
            <Button x:Name="GenSelectNoneBtn" Content="Select None" Click="SelectNone"/>
        </StackPanel>
        <ComboBox x:Name="GenreFilterBox" Grid.Column="2" Grid.Row="4" SelectionChanged="OnFilterSelectionChanged" 
          IsEditable="False" StaysOpenOnEdit="True">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Content="{Binding name}" IsChecked="{Binding isSelected}" Checked="OnFilterSelectionChanged" Unchecked="OnFilterSelectionChanged"/>
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        <Label x:Name="GenreFilterBtnLabel" Grid.Column="2" Grid.Row="4" Content="Select Genres" IsHitTestVisible="False"/>
        <Label x:Name="SubgenreFilterLabel" Grid.Column="3" Grid.Row="2" Content="Subgenres"/>
        <StackPanel Orientation="Horizontal" Grid.Column="3" Grid.Row="3">
            <Button x:Name="SubSelectAllBtn" Content="Select All" Click="SelectAll"/>
            <Button x:Name="SubSelectNoneBtn" Content="Select None" Click="SelectNone"/>
        </StackPanel>
        <ComboBox x:Name="SubGenreFilterBox" Grid.Column="3" Grid.Row="4" SelectionChanged="OnFilterSelectionChanged" 
          IsEditable="False" StaysOpenOnEdit="True">
            <ComboBox.ItemTemplate>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <CheckBox Content="{Binding name}" IsChecked="{Binding isSelected}" Checked="OnFilterSelectionChanged" Unchecked="OnFilterSelectionChanged"/>
                    </StackPanel>
                </DataTemplate>
            </ComboBox.ItemTemplate>
        </ComboBox>
        <Label x:Name="SubgenreFilterBtnLabel" Grid.Column="3" Grid.Row="4" Content="Select Subgenres" IsHitTestVisible="False"/>
        <DataGrid x:Name="TrackGrid" ItemsSource="{Binding Tracks}" AutoGenerateColumns="False" Grid.Column="0" Grid.ColumnSpan="4" Grid.Row="5"
                  CanUserAddRows="False" CanUserDeleteRows="False" >
            <DataGrid.Columns>
                <DataGridTextColumn Header="Track" Binding="{Binding track_name}" IsReadOnly="True" />
                <DataGridTextColumn Header="Library" Binding="{Binding library.name}" IsReadOnly="True" />
                <DataGridTextColumn Header="Album" Binding="{Binding album.name}" IsReadOnly="True" />
                <DataGridTextColumn Header="Genre" Binding="{Binding genre.name}" IsReadOnly="True" />
                <DataGridTextColumn Header="SubGenre" Binding="{Binding subgenre.name}" IsReadOnly="True" />
                <DataGridTextColumn Header="Royalty Total" Binding="{Binding royaltyamount, StringFormat={}{0:C}}" IsReadOnly="True"/>
                <DataGridTextColumn Header="Per Statement Avg" Binding="{Binding perUsage, StringFormat={}{0:C}}" IsReadOnly="True"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Page>
